# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ MinIO

## –ü—Ä–æ–±–ª–µ–º–∞
Telegram API –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –∞–¥—Ä–µ—Å—É `http://minio:9000`.

## –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤—å—Ç–µ –≤ `.env.production` –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `MINIO_PUBLIC_URL`:

```bash
# –í —Ñ–∞–π–ª–µ .env.production –¥–æ–±–∞–≤—å—Ç–µ:
MINIO_PUBLIC_URL=http://89.35.55.254:9000
```

–ó–∞–º–µ–Ω–∏—Ç–µ `89.35.55.254` –Ω–∞ **–≤–Ω–µ—à–Ω–∏–π IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**.

## –ö–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd ~/telegram-bot-admin

# 1. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ .env.production
echo "MINIO_PUBLIC_URL=http://89.35.55.254:9000" >> .env.production

# 2. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥
git pull

# 3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π dist
docker cp backend/dist/. tg-backend:/app/dist/

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend
docker compose -f docker-compose.lightweight.yml restart backend

# 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker logs tg-backend -f
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –≤ –∞–¥–º–∏–Ω–∫–µ
2. –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å URL —Å –≤–Ω–µ—à–Ω–∏–º IP:
   ```
   üîó File URL generated: http://89.35.55.254:9000/telegram-media/uploads/...
   ```
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–∞—Å—Å—ã–ª–∫—É —Å —ç—Ç–∏–º —Ñ–∞–π–ª–æ–º
4. Telegram –¥–æ–ª–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ –ø–æ—Ä—Ç 9000 –∑–∞–∫—Ä—ã—Ç):

–ï—Å–ª–∏ –ø–æ—Ä—Ç 9000 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏ —á–µ—Ä–µ–∑ Nginx –Ω–∞ –ø–æ—Ä—Ç—É 8080:

```bash
# –í .env.production:
MINIO_PUBLIC_URL=http://89.35.55.254:8080/minio

# –ó–∞—Ç–µ–º –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è /minio/* –Ω–∞ minio:9000
```

