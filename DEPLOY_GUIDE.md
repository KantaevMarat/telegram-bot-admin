# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ

- ‚úÖ Backend —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω (`npm run build`)
- ‚úÖ Frontend —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω (`npm run build`)
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ git
- ‚úÖ –ö–æ–º–º–∏—Ç: `db3f7e3` - "feat: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –±–∞–ª–∞–Ω—Å–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"

## üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ GitHub

### –®–∞–≥ 1: Push –≤ —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É

```bash
git push origin sync/cleanup/2025-10-29
```

### –®–∞–≥ 2 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): Merge –≤ main

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–ª–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ main –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:

```bash
git checkout main
git merge sync/cleanup/2025-10-29
git push origin main
```

## üñ•Ô∏è –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh your-server
# –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à –º–µ—Ç–æ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

### –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/tg-main

# –ü–æ–¥—Ç—è–Ω—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ git
git fetch origin
git checkout sync/cleanup/2025-10-29  # –∏–ª–∏ main
git pull origin sync/cleanup/2025-10-29  # –∏–ª–∏ main

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ backend (—Ç.–∫. –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ç–∞–º)
docker-compose up -d --no-deps --build backend

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏ frontend:
docker-compose up -d --no-deps --build frontend

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs -f backend
```

### –î–µ–ø–ª–æ–π –±–µ–∑ Docker (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PM2 –∏–ª–∏ –∞–Ω–∞–ª–æ–≥)

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/tg-main

# –ü–æ–¥—Ç—è–Ω—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git fetch origin
git checkout sync/cleanup/2025-10-29
git pull origin sync/cleanup/2025-10-29

# –¢–∞–∫ –∫–∞–∫ –±–∏–ª–¥—ã —É–∂–µ —Å–¥–µ–ª–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
cd backend
pm2 restart tg-backend  # –∏–ª–∏ –≤–∞—à –ø—Ä–æ—Ü–µ—Å—Å

cd ../frontend
pm2 restart tg-frontend  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
```

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ backend –∑–∞–ø—É—Å—Ç–∏–ª—Å—è

```bash
# –î–ª—è Docker
docker-compose logs backend | tail -n 50

# –î–ª—è PM2
pm2 logs tg-backend --lines 50
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
[Nest] Application started successfully
‚úÖ BotService subscribed to sync events
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API

```bash
curl http://localhost:3001/api/health
# –∏–ª–∏ –≤–∞—à URL –∏ –ø–æ—Ä—Ç
```

### 3. –¢–µ—Å—Ç–æ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `https://your-domain.com`
2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. –ò–∑–º–µ–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ +10 USDT —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º "–¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
# –î–ª—è Docker
docker-compose logs backend | grep "Balance updated"
docker-compose logs backend | grep "Balance notification sent"

# –î–ª—è PM2
pm2 logs tg-backend | grep "Balance"
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
[UsersService] Balance updated: user=123456789, delta=10, reason=admin_add
[BotService] ‚úÖ Balance notification sent successfully to 123456789
[UsersService] ‚úÖ Fake stats updated after balance change
```

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs backend

# –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
# 1. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å, —Ç.–∫. –±–∏–ª–¥ –ª–æ–∫–∞–ª—å–Ω—ã–π)
# 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
# 3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `TELEGRAM_BOT_TOKEN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `.env`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—Ç–ø—Ä–∞–≤–∫–µ
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –±–æ—Ç–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ polling –∏–ª–∏ webhook

### –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /path/to/tg-main
git log --oneline -5  # –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã
git checkout <–ø—Ä–µ–¥—ã–¥—É—â–∏–π-–∫–æ–º–º–∏—Ç>

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d --no-deps --build backend
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–ª–µ–¥–∏—Ç—å –∑–∞:

1. **–õ–æ–≥–∞–º–∏ backend** –ø–µ—Ä–≤—ã–µ 15-30 –º–∏–Ω—É—Ç
   ```bash
   docker-compose logs -f backend
   ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞–º—è—Ç–∏**
   ```bash
   docker stats
   ```

3. **–†–∞–±–æ—Ç–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** - –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è

- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ GitHub
- [ ] –ü–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
- [ ] –ü–æ–¥—Ç—è–Ω—É–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ git pull
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–∏ backend
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –ª–æ–≥–∏ - –Ω–µ—Ç –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ API - –æ—Ç–≤–µ—á–∞–µ—Ç
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- [ ] Fake-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å
- [ ] –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∑–∞–ø–∏—Å–∞–ª–∞—Å—å –≤ balance_logs

## üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è

**–ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (–¥–ª—è Docker):**

```bash
cd /path/to/tg-main && \
git pull origin sync/cleanup/2025-10-29 && \
docker-compose up -d --no-deps --build backend && \
docker-compose logs -f backend
```

**–¢–æ–ª—å–∫–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ (–±–µ–∑ rebuild, –µ—Å–ª–∏ –±–∏–ª–¥—ã —É–∂–µ –Ω–∞ –º–µ—Å—Ç–µ):**

```bash
cd /path/to/tg-main && \
git pull origin sync/cleanup/2025-10-29 && \
docker-compose restart backend && \
docker-compose logs -f backend
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –±–∞–ª–∞–Ω—Å–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç!

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞: `BALANCE_NOTIFICATION_UPDATE.md`
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é: `TESTING_INSTRUCTIONS.md`

