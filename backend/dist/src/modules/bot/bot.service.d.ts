import { OnModuleInit, OnModuleDestroy } from '@nestjs/common';
import { Repository } from 'typeorm';
import { ConfigService } from '@nestjs/config';
import { User } from '../../entities/user.entity';
import { Button } from '../../entities/button.entity';
import { Task } from '../../entities/task.entity';
import { UserTask } from '../../entities/user-task.entity';
import { Scenario } from '../../entities/scenario.entity';
import { FakeStatsService } from '../stats/fake-stats.service';
import { SettingsService } from '../settings/settings.service';
import { MessagesService } from '../messages/messages.service';
import { UsersService } from '../users/users.service';
import { SyncService } from '../sync/sync.service';
import { ChannelsService } from '../channels/channels.service';
export declare class BotService implements OnModuleInit, OnModuleDestroy {
    private userRepo;
    private buttonRepo;
    private taskRepo;
    private userTaskRepo;
    private scenarioRepo;
    private configService;
    private fakeStatsService;
    private settingsService;
    private messagesService;
    private usersService;
    private syncService;
    private channelsService;
    private readonly logger;
    private botToken;
    private pollingOffset;
    private pollingInterval;
    constructor(userRepo: Repository<User>, buttonRepo: Repository<Button>, taskRepo: Repository<Task>, userTaskRepo: Repository<UserTask>, scenarioRepo: Repository<Scenario>, configService: ConfigService, fakeStatsService: FakeStatsService, settingsService: SettingsService, messagesService: MessagesService, usersService: UsersService, syncService: SyncService, channelsService: ChannelsService);
    onModuleInit(): Promise<void>;
    onModuleDestroy(): Promise<void>;
    handleWebhook(update: any): Promise<void>;
    private startPolling;
    private pollUpdates;
    private handleMessage;
    private createUser;
    private giveReferralBonus;
    private notifyReferrer;
    private sendWelcomeMessage;
    private handleCommand;
    private sendHelp;
    private sendAvailableTasks;
    private handleCallbackQuery;
    private getMainKeyboard;
    private getReplyKeyboard;
    private handleReplyButton;
    sendMessage(chatId: string, text: string, replyMarkup?: any): Promise<void>;
    sendMessageWithMedia(chatId: string, text: string, mediaUrl: string, mediaType?: string): Promise<void>;
    private answerCallbackQuery;
    setWebhook(webhookUrl: string): Promise<any>;
    private sendBalance;
    private sendProfile;
    private sendWithdrawInfo;
    private sendReferralInfo;
    private handleTaskAction;
    private startTask;
    private submitTask;
    private cancelTask;
    private showMyTasks;
    private handleCustomButton;
    private handleTaskVerification;
    private handleWithdrawalRequest;
    private findMatchingScenario;
    private handleScenario;
    checkMandatoryChannels(userId: string): Promise<{
        allSubscribed: boolean;
        unsubscribedChannels: any[];
    }>;
    generateSubscriptionKeyboard(channels: any[], callbackAction?: string): {
        inline_keyboard: any[][];
    };
    private checkChannelSubscription;
}
