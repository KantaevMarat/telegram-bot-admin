import { OnModuleInit, OnModuleDestroy } from '@nestjs/common';
import { Repository } from 'typeorm';
import { ConfigService } from '@nestjs/config';
import { User } from '../../entities/user.entity';
import { Button } from '../../entities/button.entity';
import { Task } from '../../entities/task.entity';
import { UserTask } from '../../entities/user-task.entity';
import { Scenario } from '../../entities/scenario.entity';
import { BalanceLog } from '../../entities/balance-log.entity';
import { Admin } from '../../entities/admin.entity';
import { FakeStatsService } from '../stats/fake-stats.service';
import { SettingsService } from '../settings/settings.service';
import { MessagesService } from '../messages/messages.service';
import { UsersService } from '../users/users.service';
import { SyncService } from '../sync/sync.service';
import { ChannelsService } from '../channels/channels.service';
import { CommandsService } from '../commands/commands.service';
import { RanksService } from '../ranks/ranks.service';
import { PremiumService } from '../premium/premium.service';
export declare class BotService implements OnModuleInit, OnModuleDestroy {
    private userRepo;
    private buttonRepo;
    private taskRepo;
    private userTaskRepo;
    private scenarioRepo;
    private balanceLogRepo;
    private adminRepo;
    private configService;
    private fakeStatsService;
    private settingsService;
    private messagesService;
    private usersService;
    private syncService;
    private channelsService;
    private commandsService;
    private ranksService;
    private premiumService;
    private readonly logger;
    private botToken;
    private pollingOffset;
    private pollingInterval;
    private consecutiveErrors;
    constructor(userRepo: Repository<User>, buttonRepo: Repository<Button>, taskRepo: Repository<Task>, userTaskRepo: Repository<UserTask>, scenarioRepo: Repository<Scenario>, balanceLogRepo: Repository<BalanceLog>, adminRepo: Repository<Admin>, configService: ConfigService, fakeStatsService: FakeStatsService, settingsService: SettingsService, messagesService: MessagesService, usersService: UsersService, syncService: SyncService, channelsService: ChannelsService, commandsService: CommandsService, ranksService: RanksService, premiumService: PremiumService);
    onModuleInit(): Promise<void>;
    onModuleDestroy(): Promise<void>;
    handleWebhook(update: any): Promise<void>;
    private startPolling;
    private pollUpdates;
    private handleMessage;
    private createUser;
    private giveReferralBonus;
    private checkUserBlocked;
    private notifyReferrer;
    private sendWelcomeMessage;
    private handleCommand;
    private handleTaskCommand;
    private sendHelp;
    private sendAvailableTasks;
    private handleCallbackQuery;
    private getMainKeyboard;
    private getReplyKeyboard;
    private isUserAdmin;
    private handleReplyButton;
    sendMessage(chatId: string, text: string, replyMarkup?: any): Promise<any>;
    private getFileUrl;
    sendMessageWithMedia(chatId: string, text: string, mediaUrl: string, mediaType?: string): Promise<void>;
    sendBalanceChangeNotification(chatId: string, balanceBefore: number, balanceAfter: number, delta: number, reason: string, comment?: string): Promise<void>;
    private answerCallbackQuery;
    setWebhook(webhookUrl: string): Promise<any>;
    deleteWebhook(dropPendingUpdates?: boolean): Promise<any>;
    private sendBalance;
    private sendProfile;
    private sendWithdrawInfo;
    private sendReferralInfo;
    private handleTaskAction;
    private startTask;
    private submitTask;
    private cancelTask;
    private showMyTasks;
    private handleCustomButton;
    private handleCustomCommand;
    private handleTaskVerification;
    private handleWithdrawalRequest;
    private findMatchingScenario;
    private handleScenario;
    checkMandatoryChannels(userId: string): Promise<{
        allSubscribed: boolean;
        unsubscribedChannels: any[];
    }>;
    generateSubscriptionKeyboard(channels: any[], callbackAction?: string): {
        inline_keyboard: any[][];
    };
    private checkChannelSubscription;
    private sendRankInfo;
    private handlePremiumInfo;
    private handleUpgrade;
    private handlePaymentMethodChoice;
}
